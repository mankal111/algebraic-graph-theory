{"version":3,"sources":["reducers/graphReducer.js","reducers/rootReducer.js","components/Vertex.js","components/Edge.js","components/GraphCanvas.js","actions/graphActions.js","matrix.js","components/DownloadMatrixComponent.js","components/GraphRepresentation.js","components/DownloadScriptComponent.js","components/CharPolAndSpectrum.js","components/GraphDataPanel.js","components/OptionsContainer.js","App.js","serviceWorker.js","index.js","store.js"],"names":["initialState","vertices","edges","selectedVertex","canvasPosition","combineReducers","graphReducer","state","action","type","x","y","index","filter","v","i","map","newVertices","v1","v2","some","a","dx","dy","zoom","cx","cy","vertex","Vertex","args","handleClick","bind","onDrag","leftClick","delayedUpdateVertex","throttle","props","updateVertex","dragEnd","e","cancelBubble","this","selectVertex","addEdge","deleteVertex","evt","button","target","isSelected","text","fill","fontFamily","fontStyle","radius","stroke","strokeWidth","onClick","onTouchStart","draggable","shadowColor","shadowBlur","shadowOffset","shadowOpacity","onDragMove","onDragEnd","hitStrokeWidth","Component","Edge","deleteEdge","points","GraphCanvas","dragStartX","dragStartY","width","height","startDrag","endDrag","wheelListener","delayedZoomCanvas","zoomCanvas","zoomIn","zoomOut","updateSize","delayedUpdateSize","window","addEventListener","removeEventListener","refs","container","getBoundingClientRect","setState","stage","getPointerPosition","px","py","addVertex","moveCanvas","preventDefault","deltaY","ref","style","position","bottom","right","cursor","zIndex","Icon","border","onDragStart","onWheel","onContextMenu","edge","key","vertice","connect","dispatch","Algebrite","require","arrayToLatexMatrix","array","arrayToTextMatrix","start","end","elSep","lineSep","row","join","zeros","h","w","Array","adjacencyMatrix","numberOfVertices","arrayOfEdges","matrix","length","degreeMatrix","getMatrixRepresentation","verticesLength","representation","exprStyle","adj","deg","laplacianMatrix","j","expressions","simplifiedLatexSqrt","n","Math","floor","sqrt","r","Number","isInteger","simplifiedMatlabSqrt","SNLMatrix","round","symNorLaplacianMatrix","minorMatrix","el","determinantExpressionObject","multiply","subtract","det","algebra","Expression","toString","exp","pow","add","getRootsFromObject","obj","run","replace","split","roundToTwoD","includes","match","real","imaginary","undefined","roundComplex","sort","characteristicPolynomialObject","value","decimals","divide","convertArrayToObjectMatrix","spectrumMatrixLatex","charObj","eigenvalues","spectrum","Set","charAndSpecLatex","characteristicPolynomial","charPolObj","toTex","DialogTitle","withStyles","theme","root","margin","padding","spacing","closeButton","top","color","palette","grey","children","classes","onClose","other","disableTypography","className","Typography","variant","IconButton","aria-label","DialogContent","overflow","MuiDialogContent","DialogActions","MuiDialogActions","CustomizedDialogs","matrixText","setRepresentation","React","useState","open","setOpen","format","setFormat","expr","setExpr","newLines","setNewLines","handleClose","Button","size","startIcon","Dialog","fullScreen","aria-labelledby","id","dividers","Grid","justify","maxWidth","FormControl","InputLabel","htmlFor","Select","onChange","labelId","MenuItem","FormControlLabel","control","Checkbox","checked","label","labelPlacement","readOnly","whiteSpace","document","getElementById","select","execCommand","autoFocus","textArea","file","Blob","createElement","url","URL","createObjectURL","href","download","body","appendChild","click","setTimeout","removeChild","revokeObjectURL","useStyles","makeStyles","backgroundColor","background","paper","matrixContainer","maxHeight","outline","GraphRepresentation","alignItems","direction","item","math","scriptText","downloadButtonText","fileName","platform","latexContainer","mainGridContainer","externalComputeContainer","CharPolAndSpectrum","contentElement","xs","gutterBottom","wolframMatrix","encodeURI","wolframAlphaLink","GraphDataPanel","nextProps","nextState","Divider","CreateGraphCard","deleteGraph","cycleGraph","completeGraph","margulisExpander","initializeGraph","center","innerWidth","innerHeight","parseInt","prompt","cos","PI","sin","push","first","m","space","toIndex","normalizedEdges","forEach","Dropdown","Toggle","Menu","Item","onSelect","flexGrow","left","appBar","title","gridContainer","paddingTop","gridColumn","textAlign","secondary","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","render","store","createStore","rootReducer","applyMiddleware","thunk","Box","AppBar","OptionsContainer","Paper","process","origin","fetch","headers","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.1e3581bd.chunk.js","sourcesContent":["const initialState = {\r\n    vertices: [],\r\n    edges: [],\r\n    selectedVertex: null,\r\n    canvasPosition: [0, 0]\r\n}\r\n\r\nexport default (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'ADD_VERTEX':\r\n            const {x, y} = action;\r\n            return {\r\n                ...state,\r\n                vertices:\r\n                    [\r\n                        ...state.vertices, [x, y]\r\n                    ]\r\n            }\r\n        case 'SELECT_VERTEX':\r\n            const { index } = action;\r\n            return {\r\n                ...state,\r\n                selectedVertex: index\r\n            }\r\n        case 'DELETE_VERTEX':\r\n            {\r\n                const {index} = action;\r\n                const {vertices, edges, selectedVertex} = state;\r\n\r\n                return {\r\n                    ...state,\r\n                    vertices: vertices.filter((v, i) => i !== index),\r\n                    edges: edges\r\n                        // Remove all edges containing the vertex\r\n                        .filter(v => v[0] !== index && v[1] !== index)\r\n                        // Transpose all indices above the deleted one\r\n                        .map(\r\n                            v =>\r\n                            [\r\n                                v[0] > index ? v[0] - 1 : v[0],\r\n                                v[1] > index ? v[1] - 1 : v[1]\r\n                            ]\r\n                        ),\r\n                    // If the deleted vertex was the selected one, deselect it\r\n                    // if not, update its value\r\n                    selectedVertex: selectedVertex === index ?\r\n                        null :\r\n                        selectedVertex > index ? selectedVertex - 1 : selectedVertex\r\n                }\r\n            }\r\n        case 'UPDATE_VERTEX':\r\n            {\r\n                const {index, x, y} = action;\r\n                const newVertices = [...state.vertices];\r\n                newVertices[index][0] = x;\r\n                newVertices[index][1] = y;\r\n                return {\r\n                    ...state,\r\n                    vertices: newVertices\r\n                }\r\n            }\r\n        case 'ADD_EDGE':\r\n            let {v1, v2} = action;\r\n            if (state.edges.some(a => a[0]===v1 && a[1]===v2))\r\n                return state;\r\n            else\r\n                return {\r\n                    ...state,\r\n                    edges:\r\n                        [\r\n                            ...state.edges, [v1, v2]\r\n                        ]\r\n                }\r\n        case 'DELETE_EDGE':\r\n            {\r\n                const {index} = action;\r\n                const {edges} = state;\r\n                return {\r\n                    ...state,\r\n                    edges:\r\n                        edges.filter((v, i) => i !== index)\r\n                }\r\n            }\r\n        case 'INITIALIZE_GRAPH':\r\n            return {\r\n                ...state,\r\n                vertices: action.vertices,\r\n                edges: action.edges,\r\n                selectedVertex: null,\r\n                canvasPosition: [0, 0]\r\n            }\r\n        case 'MOVE_CANVAS':\r\n            {\r\n                const {dx, dy} = action;\r\n                const [x, y] = state.canvasPosition;\r\n                return {\r\n                    ...state,\r\n                    canvasPosition: [x + dx, y + dy]\r\n                }\r\n            }\r\n        case 'ZOOM_CANVAS':\r\n            {\r\n                const {x, y, zoom} = action;\r\n                const vertices = [...state.vertices];\r\n                const [cx, cy] = state.canvasPosition;\r\n                return {\r\n                    ...state,\r\n                    vertices: vertices.map( vertex => [\r\n                        (vertex[0] - x + cx) * zoom + x - cx,\r\n                        (vertex[1] - y + cy) * zoom + y - cy\r\n                    ])\r\n                }\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}","import { combineReducers } from 'redux';\r\nimport graphReducer from './graphReducer';\r\n\r\nexport default combineReducers({\r\n    graphReducer\r\n});","import React, { Component } from 'react';\r\nimport { Circle, Group, Text } from 'react-konva';\r\nimport { throttle } from 'lodash';\r\n\r\nclass Vertex extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.onDrag = this.onDrag.bind(this);\r\n        this.leftClick = this.leftClick.bind(this);\r\n        // used throttle to prevent too many updates\r\n        this.delayedUpdateVertex = throttle((i,x,y) => this.props.updateVertex(i,x,y), 50);\r\n        // prevent this event from reaching stage\r\n        this.dragEnd = e => e.cancelBubble = true;\r\n    }\r\n\r\n    leftClick(){\r\n        const {index, selectedVertex, selectVertex, addEdge} = this.props;\r\n        if (index === selectedVertex)\r\n                selectVertex(null);\r\n            else if (selectedVertex !== null)\r\n                addEdge(selectedVertex, index);\r\n            else\r\n                selectVertex(index);\r\n    }\r\n\r\n    handleClick(e){\r\n        e.cancelBubble = true;\r\n        const {index, deleteVertex} = this.props;\r\n        if (e.evt.button === 0) {\r\n            this.leftClick(e);\r\n        } else if (e.evt.button === 2) {\r\n            deleteVertex(index);\r\n        }\r\n    }\r\n\r\n    onDrag(e){\r\n        this.delayedUpdateVertex(this.props.index, e.target.x(), e.target.y());\r\n    }\r\n\r\n    render() {\r\n        const {x, y, index, selectedVertex} = this.props\r\n        const isSelected = index === selectedVertex;\r\n        return (\r\n            <Group>\r\n                <Text\r\n                    x={x + 8}\r\n                    y={y + 8}\r\n                    text={index + 1}\r\n                    fill={'black'}\r\n                    fontFamily={'ArialBlack'}\r\n                    fontStyle={'bold'}\r\n                />\r\n                <Circle\r\n                    x={x} y={y}\r\n                    radius={isSelected ? 8 : 6}\r\n                    fill={'blue'}\r\n                    stroke={isSelected ? 'LimeGreen' : 'black'}\r\n                    strokeWidth={isSelected ? 4 : 1}\r\n                    onClick={this.handleClick}\r\n                    onTouchStart={this.leftClick}\r\n                    draggable={true}\r\n                    shadowColor={'black'}\r\n                    shadowBlur={isSelected ? 4 : 2}\r\n                    shadowOffset={isSelected ? {x: 2, y: 2 } : {x: 1, y: 1 }}\r\n                    shadowOpacity={0.5}\r\n                    onDragMove={this.onDrag}\r\n                    onDragEnd={this.dragEnd}\r\n                    // Allow click 20 pixels around vertex\r\n                    hitStrokeWidth={20}\r\n                />\r\n            </Group>\r\n        )\r\n    }\r\n}\r\n  \r\nexport default Vertex;","import React, { Component } from 'react';\r\nimport { Line } from 'react-konva';\r\n\r\nclass Edge extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n\r\n    handleClick(e){\r\n        const {index, deleteEdge} = this.props;\r\n        // Remove edge on right click\r\n        if (e.evt.button === 2)\r\n            deleteEdge(index);\r\n    }\r\n\r\n    render() {\r\n        const {v1, v2} = this.props;\r\n        return (\r\n            <Line\r\n                points={[v1[0], v1[1], v2[0], v2[1]]}\r\n                stroke={'black'}\r\n                strokeWidth={5}\r\n                onClick={this.handleClick}\r\n                shadowColor={'black'}\r\n                shadowBlur={2}\r\n                shadowOffset={{x: 1, y: 1 }}\r\n                shadowOpacity={0.5}\r\n                // Allow click 20 pixels around edge\r\n                hitStrokeWidth={20}\r\n            />\r\n        )\r\n    }\r\n}\r\n  \r\nexport default Edge;","import React, { Component } from 'react';\r\nimport { Layer, Stage } from 'react-konva';\r\nimport { throttle } from 'lodash';\r\nimport Vertex from './Vertex';\r\nimport Edge from './Edge';\r\nimport { connect } from 'react-redux';\r\nimport { addVertex, deleteVertex, selectVertex, updateVertex, addEdge,\r\n    deleteEdge, moveCanvas, zoomCanvas } from '../actions/graphActions';\r\nimport Icon from '@material-ui/core/Icon';\r\n\r\nclass GraphCanvas extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            dragStartX: 0,\r\n            dragStartY: 0,\r\n            width: 0,\r\n            height: 0,\r\n        }\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.startDrag = this.startDrag.bind(this);\r\n        this.endDrag = this.endDrag.bind(this);\r\n        this.wheelListener = this.wheelListener.bind(this);\r\n        // used throttle to call zoomCanvas only once every 1/10 second\r\n        this.delayedZoomCanvas = throttle((x, y, zoom) => this.props.zoomCanvas(x, y, zoom), 100);\r\n        this.zoomIn = () => this.props.zoomCanvas(\r\n            this.state.width/2,\r\n            this.state.height/2,\r\n            1.5\r\n        );\r\n        this.zoomOut = () => this.props.zoomCanvas(\r\n            this.state.width/2,\r\n            this.state.height/2,\r\n            0.75\r\n        );\r\n        // update stage size \r\n        this.updateSize = this.updateSize.bind(this);\r\n        // used throttle to call updateSize only once every 1/2 second\r\n        this.delayedUpdateSize = throttle(this.updateSize, 500);\r\n    }\r\n\r\n    componentDidMount(){\r\n        window.addEventListener('resize', this.delayedUpdateSize);\r\n        this.updateSize();\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        window.removeEventListener('resize', this.delayedUpdateSize);\r\n    }\r\n\r\n    updateSize(){\r\n        const {width, height} = this.refs.container.getBoundingClientRect();\r\n        this.setState({width, height});\r\n    }\r\n    handleClick(e) {\r\n        const {x: px, y: py} = this.refs.stage.getPointerPosition();\r\n        const [cx, cy] = this.props.canvasPosition;\r\n        // Deselect vertices when any mouse button is clicked in canvas(not on its elements)\r\n        this.props.selectVertex(null);\r\n        // Add vertex if left button is clicked\r\n        if (e.evt.button === 0)\r\n            // The coordinates of the new vertex are the pointer minus the canvas origin coordinates\r\n            this.props.addVertex(px - cx, py - cy);\r\n    }\r\n\r\n    startDrag() {\r\n        const {x, y} = this.refs.stage.getPointerPosition();\r\n        // Keep coordinates of the pointer\r\n        this.setState({dragStartX: x, dragStartY: y});\r\n    }\r\n\r\n    endDrag() {\r\n        const {dragStartX, dragStartY} = this.state;\r\n        const {x, y} = this.refs.stage.getPointerPosition();\r\n        // Find distance of drag\r\n        const dx = x - dragStartX;\r\n        const dy = y - dragStartY;\r\n        // Update store with the new coordinates\r\n        this.props.moveCanvas(dx, dy);\r\n    }\r\n\r\n     wheelListener(e) {\r\n        const {x, y} = this.refs.stage.getPointerPosition();\r\n        e.evt.preventDefault();\r\n        // Zoom in or out by steps of 0.1\r\n        if (e.evt.deltaY > 0)\r\n            this.delayedZoomCanvas(x, y, 1.1);\r\n        else if (e.evt.deltaY < 0)\r\n            this.delayedZoomCanvas(x, y, 0.9);\r\n     }\r\n\r\n    render() {\r\n        const { vertices, edges, selectedVertex, deleteVertex,\r\n            selectVertex, addEdge, deleteEdge, updateVertex, canvasPosition } = this.props;\r\n        return (\r\n            <div ref='container' style={{height: '100%', position: 'relative'}}>\r\n                <span style={{position: 'absolute', bottom: 0, right: 0, cursor: 'pointer', zIndex: 100}}>\r\n                    <Icon onClick={this.zoomIn}>zoom_in</Icon>\r\n                    <Icon onClick={this.zoomOut}>zoom_out</Icon>\r\n                </span>\r\n                <Stage\r\n                    style={{border: \"solid 1px\"}}\r\n                    width={this.state.width - 2}\r\n                    height={this.state.height}\r\n                    onClick={this.handleClick}\r\n                    draggable\r\n                    onDragStart={this.startDrag}\r\n                    onDragEnd={this.endDrag}\r\n                    onWheel={this.wheelListener}\r\n                    x={canvasPosition[0]} y={canvasPosition[1]}\r\n                    ref=\"stage\"\r\n                    // Prevent context menu since we are using right click for deselecting and deleting\r\n                    onContextMenu={(e) => e.evt.preventDefault()}\r\n                >\r\n                    <Layer>\r\n                        {\r\n                            edges.map( (edge, index) =>\r\n                                <Edge\r\n                                    key={index}\r\n                                    index={index}\r\n                                    v1={vertices[edge[0]]}\r\n                                    v2={vertices[edge[1]]}\r\n                                    deleteEdge={deleteEdge}\r\n                                />\r\n                            )\r\n                        }\r\n                    </Layer>\r\n                    <Layer>\r\n                        {\r\n                            vertices.map( (vertice, index) => \r\n                                <Vertex\r\n                                    key={index}\r\n                                    x={vertice[0]}\r\n                                    y={vertice[1]}\r\n                                    index={index}\r\n                                    selectedVertex={selectedVertex}\r\n                                    selectVertex={selectVertex}\r\n                                    addEdge={addEdge}\r\n                                    updateVertex={updateVertex}\r\n                                    deleteVertex={deleteVertex}\r\n                                />\r\n                            )\r\n                        }\r\n                    </Layer>\r\n                </Stage>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    ...state.graphReducer\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    addVertex: (x,y) => dispatch(addVertex(x,y)),\r\n    deleteVertex: index => dispatch(deleteVertex(index)),\r\n    selectVertex: index => dispatch(selectVertex(index)),\r\n    addEdge: (v1, v2) => dispatch(addEdge(v1, v2)),\r\n    deleteEdge: index => dispatch(deleteEdge(index)),\r\n    updateVertex: (index, x, y) => dispatch(updateVertex(index, x, y)),\r\n    moveCanvas: (dx, dy) => dispatch(moveCanvas(dx, dy)),\r\n    zoomCanvas: (x, y, zoom) => dispatch(zoomCanvas(x, y, zoom))\r\n});\r\n  \r\nexport default connect(mapStateToProps, mapDispatchToProps) (GraphCanvas);","export const addVertex = (x, y) => dispatch => {\r\n    dispatch({\r\n        type: 'ADD_VERTEX',\r\n        x,\r\n        y\r\n    });\r\n}\r\n\r\nexport const deleteVertex = (index) => dispatch => {\r\n    dispatch({\r\n        type: 'DELETE_VERTEX',\r\n        index\r\n    });\r\n}\r\n\r\nexport const selectVertex = (index) => dispatch => {\r\n    dispatch({\r\n        type: 'SELECT_VERTEX',\r\n        index\r\n    });\r\n}\r\n\r\nexport const updateVertex = (index, x, y) => dispatch => {\r\n    dispatch({\r\n        type: 'UPDATE_VERTEX',\r\n        index,\r\n        x,\r\n        y\r\n    });\r\n}\r\n\r\nexport const addEdge = (v1, v2) => dispatch => {\r\n    dispatch({\r\n        type: 'ADD_EDGE',\r\n        v1,\r\n        v2\r\n    });\r\n}\r\n\r\nexport const deleteEdge = (index) => dispatch => {\r\n    dispatch({\r\n        type: 'DELETE_EDGE',\r\n        index\r\n    });\r\n}\r\n\r\nexport const initializeGraph = (vertices, edges) => dispatch => {\r\n    dispatch({\r\n        type: 'INITIALIZE_GRAPH',\r\n        vertices,\r\n        edges\r\n    });\r\n}\r\n\r\nexport const moveCanvas = (dx, dy) => dispatch => {\r\n    dispatch({\r\n        type: 'MOVE_CANVAS',\r\n        dx,\r\n        dy\r\n    });\r\n}\r\n\r\nexport const zoomCanvas = (x, y, zoom) => dispatch => {\r\n    dispatch({\r\n        type: 'ZOOM_CANVAS',\r\n        x,\r\n        y,\r\n        zoom\r\n    });\r\n}\r\n","import algebra from 'algebra.js';\r\nconst Algebrite = require('algebrite');\r\n\r\nexport const arrayToLatexMatrix = (array) =>\r\n    arrayToTextMatrix(array, '\\\\begin{bmatrix}', '\\\\end{bmatrix}', '&', '\\\\\\\\');\r\n\r\nexport const arrayToTextMatrix = (array, start, end, elSep, lineSep) =>\r\n    `${start}${array.map(row => row.join(elSep)).join(lineSep)}${end}`;\r\n\r\nexport const zeros = (h, w) =>\r\n    Array(h).fill().map(() => Array(w).fill(0));\r\n\r\nexport const adjacencyMatrix = (numberOfVertices, arrayOfEdges) => {\r\n    // Create a new matrix with zeros\r\n    let matrix = zeros(numberOfVertices, numberOfVertices);\r\n    // Put 1 in matrix for every edge\r\n    for (let i=0; i < arrayOfEdges.length; i++) {\r\n        matrix[arrayOfEdges[i][0]][arrayOfEdges[i][1]] = 1;\r\n        matrix[arrayOfEdges[i][1]][arrayOfEdges[i][0]] = 1;\r\n    }\r\n    return matrix;\r\n}\r\n\r\nexport const degreeMatrix = (numberOfVertices, arrayOfEdges) => {\r\n    // Create a new matrix with zeros\r\n    let matrix = zeros(numberOfVertices, numberOfVertices);\r\n    // Put 1 in the diagonal for each vertex of every edge\r\n    for (let i=0; i < arrayOfEdges.length; i++) {\r\n        matrix[arrayOfEdges[i][0]][arrayOfEdges[i][0]] += 1;\r\n        matrix[arrayOfEdges[i][1]][arrayOfEdges[i][1]] += 1;\r\n    }\r\n    return matrix;\r\n}\r\n\r\nexport const laplacianMatrix = (numberOfVertices, arrayOfEdges) => {\r\n    const adj = adjacencyMatrix(numberOfVertices, arrayOfEdges);\r\n    const deg = degreeMatrix(numberOfVertices, arrayOfEdges);\r\n    let laplacianMatrix = [];\r\n    for (let i = 0; i < numberOfVertices; i++) {\r\n        laplacianMatrix[i] = [];\r\n        for (let j = 0; j < numberOfVertices; j++) {\r\n            laplacianMatrix[i][j] = deg[i][j] - adj[i][j];\r\n        }\r\n    }\r\n    return laplacianMatrix;\r\n}\r\n\r\nexport const symNorLaplacianMatrix = (\r\n    numberOfVertices,\r\n    arrayOfEdges,\r\n    expressions = 'approximate'\r\n) => {\r\n    const adj = adjacencyMatrix(numberOfVertices, arrayOfEdges);\r\n    const deg = degreeMatrix(numberOfVertices, arrayOfEdges);\r\n    const simplifiedLatexSqrt = (n) => {\r\n        if (n === 1) return 1;\r\n        for (let i = Math.floor(Math.sqrt(n)); i >= 2; i--){\r\n            let r = n/(i*i);\r\n            if(Number.isInteger(r)){\r\n                return `${i}${(r !== 1) ? `\\\\sqrt{${n/(i*i)}}` : ''}`;\r\n            }\r\n        }\r\n        return `\\\\sqrt{${n}}`;\r\n    }\r\n    const simplifiedMatlabSqrt = (n) => {\r\n        if (n === 1) return 1;\r\n        for (let i = Math.floor(Math.sqrt(n)); i >= 2; i--){\r\n            let r = n/(i*i);\r\n            if(Number.isInteger(r)){\r\n                if (r !== 1)\r\n                    return `(${i}*sqrt(${n/(i*i)}))`;\r\n                else\r\n                    return i;\r\n            }\r\n        }\r\n        return `sqrt(${n})`;\r\n    }\r\n    let SNLMatrix = [];\r\n    for (let i = 0; i < numberOfVertices; i++) {\r\n        SNLMatrix[i] = [];\r\n        for (let j = 0; j < numberOfVertices; j++) {\r\n            if (i === j) {\r\n                SNLMatrix[i][j] = 1;\r\n            } else if (adj[i][j] === 0) {\r\n                SNLMatrix[i][j] = 0;\r\n            } else if (deg[i][i]*deg[j][j] === 1) {\r\n                SNLMatrix[i][j] = -1;\r\n            } else {\r\n                switch (expressions){\r\n                    case 'latex':\r\n                        SNLMatrix[i][j] =\r\n                            `\\\\frac{${-adj[i][j]}}{${simplifiedLatexSqrt(deg[i][i]*deg[j][j])}}`;\r\n                        break;\r\n                    case 'mathematica':\r\n                        SNLMatrix[i][j] = `${-adj[i][j]}/Sqrt[${deg[i][i]*deg[j][j]}]`;\r\n                        break;\r\n                    case 'python':\r\n                        SNLMatrix[i][j] = `${-adj[i][j]}/math.sqrt(${deg[i][i]*deg[j][j]})`;\r\n                        break;\r\n                    case 'matlab':\r\n                        SNLMatrix[i][j] = `${-adj[i][j]}/${simplifiedMatlabSqrt(deg[i][i]*deg[j][j])}`;\r\n                        break;\r\n                    case 'approximate':\r\n                    default:\r\n                        SNLMatrix[i][j] =\r\n                            Math.round(((-adj[i][j])/(Math.sqrt(deg[i][i]*deg[j][j]))) * 100) / 100;\r\n                } \r\n            }\r\n        }\r\n    }\r\n    return SNLMatrix;\r\n}\r\n\r\n//Not used yet\r\nexport const rWNorLaplacianMatrix = (numberOfVertices, arrayOfEdges) => {\r\n    const adj = adjacencyMatrix(numberOfVertices, arrayOfEdges);\r\n    const deg = degreeMatrix(numberOfVertices, arrayOfEdges);\r\n    let rWNLMatrix = [];\r\n    for (let i = 0; i < numberOfVertices; i++) {\r\n        rWNLMatrix[i] = [];\r\n        for (let j = 0; j < numberOfVertices; j++) {\r\n            if (i === j) {\r\n                rWNLMatrix[i][j] = 1;\r\n            } else {\r\n                rWNLMatrix[i][j] = Math.round(((-adj[i][j])/(deg[i][i])) * 100) / 100;\r\n            }\r\n        }\r\n    }\r\n    return rWNLMatrix;\r\n}\r\n\r\nexport const getMatrixRepresentation = (verticesLength, edges, representation, exprStyle) => {\r\n    let matrix;\r\n    switch(representation) {\r\n        case 'Degree':\r\n            matrix = degreeMatrix(verticesLength, edges);\r\n            break;\r\n        case 'Laplacian':\r\n            matrix = laplacianMatrix(verticesLength, edges);\r\n            break;\r\n        case 'SNLaplacian':\r\n            matrix = symNorLaplacianMatrix(verticesLength, edges, exprStyle);\r\n            break;\r\n        case 'Adjacency':\r\n        default:\r\n            matrix = adjacencyMatrix(verticesLength, edges);\r\n    }\r\n    return matrix;\r\n}\r\n\r\nexport const minorMatrix = (array, i, j) => {\r\n    return array\r\n        // Get all the rows leaving out the ith\r\n        .filter((row, index) => index !== i)\r\n        // In each row get all elements leaving out the jth\r\n        .map(row => row.filter((el,index) => index !== j));\r\n}\r\n\r\n// Returns the determinant expression which will be used\r\n// for the computation of the characterestic polynomial\r\nexport const determinantExpressionObject = (array) => {\r\n    if (array.length === 1) {\r\n        // In 1X1 the determinant is the unique element\r\n        return array[0][0];\r\n    } else if (array.length === 2) {\r\n        // In 2X2 the following is the determinant. We will use it as\r\n        // the first step in this recursive method.\r\n        return array[0][0].multiply(array[1][1]).subtract(array[0][1].multiply(array[1][0]));\r\n    }\r\n    let det = new algebra.Expression(0);\r\n    for (let i = 0; i < array.length; i++){\r\n        if (array[0][i].toString() !== '0') {\r\n            let exp = new algebra.Expression(Math.pow(-1, i));\r\n            exp = exp.multiply(array[0][i]);\r\n            exp = exp.multiply(determinantExpressionObject(minorMatrix(array,0,i)));\r\n            det = det.add(exp);\r\n        }\r\n    }\r\n    return det;\r\n}\r\n\r\nexport const determinantExpressionLatex = (array) =>\r\n    algebra.toTex(determinantExpressionObject(array));\r\n\r\nconst countDecimals = function (value) {\r\n    if(Math.floor(value) === value) return 0;\r\n    return value.toString().split(\".\")[1].length || 0; \r\n}\r\nexport const convertArrayToObjectMatrix = (array) => {\r\n    // Convert array to algebra.Expression matrix\r\n    let matrix = [];\r\n    for (let i=0; i < array.length; i++){\r\n        matrix[i] = [];\r\n        for (let j=0; j < array.length; j++) {\r\n            const decimals = countDecimals(array[i][j]);\r\n            matrix[i][j] = new algebra.Expression(Math.round(array[i][j]*(Math.pow(10, decimals))))\r\n                .divide(Math.pow(10, decimals));\r\n        }\r\n    }\r\n    return matrix;\r\n}\r\n\r\nexport const roundComplex = n => {\r\n    // Function that rounds a number to at most 2 decimal places\r\n    const roundToTwoD = n => Math.round(n * 100) / 100;\r\n    // If the expression contains 'i', it is complex\r\n    if (n.includes('i')){\r\n        // Extract the two numbers of the expression\r\n        const [real, imaginary] = n.match(/[+-]*\\d*\\.?\\d+/g).map(x => roundToTwoD(x));\r\n        // If imaginary is undefined it means that there is no real,\r\n        // and the imaginary is in the first position\r\n        if (imaginary === undefined) return `${real}i`;\r\n        // If imaginary is 0 then just return the real part\r\n        if (imaginary === 0) return real;\r\n        // If the real part is 0 just return the imaginary\r\n        if (real === 0) return `${imaginary}i`;\r\n        // Else return the complex\r\n        return `${real}${imaginary > 0 ? '+' : ''}${imaginary}i`;\r\n    }\r\n    return roundToTwoD(n);\r\n}\r\n\r\nexport const getRootsFromObject = (obj) => {\r\n    // Get the roots of the polynomial\r\n    return Algebrite.run(`nroots(${obj.toString()})`)\r\n        .toString()\r\n        // remove '[', ']' and '...'\r\n        .replace(/(\\[|\\]|\\.\\.\\.)/g, '')\r\n        // split the numbers\r\n        .split(',')\r\n        // and round them\r\n        .map(n => roundComplex(n))\r\n        .sort();\r\n}\r\n\r\nexport const characteristicPolynomialObject = (array) => {\r\n    let matrix = convertArrayToObjectMatrix(array);\r\n    // Subtract t from the diagonal\r\n    for (let i=0; i < matrix.length; i++){\r\n        matrix[i][i] = matrix[i][i].subtract('t');\r\n    }\r\n    return determinantExpressionObject(matrix);\r\n}\r\n\r\nexport const spectrumMatrixLatex = (charObj) => {\r\n    const eigenvalues = getRootsFromObject(charObj);\r\n    const spectrum = [...new Set(eigenvalues)].map(\r\n        x => [x, eigenvalues.filter(y => y === x).length]\r\n      );\r\n    return `Spec\\\\ \\\\Gamma=\\\\begin{pmatrix}${spectrum.map(row => row[0]).join('&')}\\\\\\\\${spectrum.map(row => row[1]).join('&')}\\\\end{pmatrix}`;\r\n}\r\n\r\n// since the computation of the characteristic polynomial is very complex, this function\r\n// will return characteristic polynomial and spectrum at the same time\r\nexport const charAndSpecLatex = (array) => {\r\n    if (array.length === 0) return {\r\n        characteristicPolynomial: '\\\\chi(\\\\Gamma ; \\\\lambda)=0',\r\n        spectrum: 'Spec\\\\ \\\\Gamma=\\\\begin{pmatrix}\\\\\\\\\\\\end{pmatrix}'\r\n    };\r\n    const charPolObj = characteristicPolynomialObject(array);\r\n    return {\r\n        characteristicPolynomial: `\\\\chi(\\\\Gamma ; \\\\lambda)=${algebra.toTex(charPolObj).replace(/t/g, '\\\\lambda')}`,\r\n        spectrum: spectrumMatrixLatex(charPolObj)\r\n    }\r\n}","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport MuiDialogActions from '@material-ui/core/DialogActions';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GetApp from '@material-ui/icons/GetApp';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { arrayToTextMatrix, getMatrixRepresentation } from '../matrix';\r\n \r\nconst styles = theme => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n});\r\n\r\nconst DialogTitle = withStyles(styles)(props => {\r\n  const { children, classes, onClose, ...other } = props;\r\n  return (\r\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\r\n      <Typography variant=\"h6\">{children}</Typography>\r\n      {onClose ? (\r\n        <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n      ) : null}\r\n    </MuiDialogTitle>\r\n  );\r\n});\r\n\r\nconst DialogContent = withStyles(theme => ({\r\n  root: {\r\n    padding: theme.spacing(2),\r\n    overflow: 'hidden',\r\n  },\r\n}))(MuiDialogContent);\r\n\r\nconst DialogActions = withStyles(theme => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(1),\r\n  },\r\n}))(MuiDialogActions);\r\n\r\nexport default function CustomizedDialogs({verticesLength, edges, representation, setRepresentation}) {\r\n  const [open, setOpen] = React.useState(false);\r\n  const [format, setFormat] = React.useState('space');\r\n  const [expr, setExpr] = React.useState('approx');\r\n  const [newLines, setNewLines] = React.useState(true);\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const copyText = () => {\r\n    // Get the textarea element\r\n    const textArea = document.getElementById('matrixTextarea');\r\n    // Select text\r\n    textArea.select();\r\n    // Copy text\r\n    document.execCommand(\"copy\");\r\n  }\r\n\r\n  const download = () => {\r\n    // Get the textarea element\r\n    const textArea = document.getElementById('matrixTextarea');\r\n    // Create the blob\r\n    var file = new Blob([textArea.value], {type: 'text/plain'});\r\n    // Create an element that contains the link to the file\r\n    const a = document.createElement('a');\r\n    const url = URL.createObjectURL(file);\r\n    a.href = url;\r\n    a.download = 'matrix.txt';\r\n    document.body.appendChild(a);\r\n    // Trigger download\r\n    a.click();\r\n    // Remove the element\r\n    setTimeout(() => {\r\n      document.body.removeChild(a);\r\n      window.URL.revokeObjectURL(url);\r\n    }, 0);\r\n  }\r\n  const matrix = getMatrixRepresentation(verticesLength, edges, representation, expr);\r\n  \r\n  let matrixText;\r\n\r\n  switch (format) {\r\n    case 'cBraces':\r\n      matrixText = arrayToTextMatrix(matrix,'{{','}}',', ',`},${newLines ? '\\n' : ''}{`);\r\n      break;\r\n    case 'sBrackets':\r\n      matrixText = arrayToTextMatrix(matrix,'[[',']]',', ',`],${newLines ? '\\n' : ''}[`);\r\n      break;\r\n    case 'matlab':\r\n      matrixText = arrayToTextMatrix(matrix,'[',']',', ',`;${newLines ? '\\n' : ' '}`);\r\n      break;\r\n    case 'latex':\r\n      matrixText = arrayToTextMatrix(matrix, '\\\\begin{bmatrix}', '\\\\end{bmatrix}',\r\n        '&', `\\\\\\\\${newLines ? '\\n' : ' '}`);\r\n      break;\r\n    case 'space': \r\n    default:\r\n      matrixText = arrayToTextMatrix(matrix,'','',' ',newLines ? '\\n' : ' ');\r\n      break;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        size=\"small\"\r\n        onClick={handleClickOpen}\r\n        startIcon={<GetApp />}\r\n      >\r\n        Download matrix\r\n      </Button>\r\n      <Dialog fullScreen onClose={handleClose} aria-labelledby=\"customized-dialog-title\" open={open}>\r\n        <DialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\r\n          Download matrix\r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n          <Grid container justify=\"space-around\" style={{maxWidth: 600}}>\r\n            <FormControl>\r\n              <InputLabel htmlFor=\"matrix-representation-label\">Representation</InputLabel>\r\n              <Select\r\n                value={representation}\r\n                onChange={e => setRepresentation(e.target.value)}\r\n                labelId=\"matrix-representation-label\"\r\n              >\r\n                <MenuItem value={'Adjacency'}>Adjacency</MenuItem>\r\n                <MenuItem value={'Degree'}>Degree</MenuItem>\r\n                <MenuItem value={'Laplacian'}>Laplacian</MenuItem>\r\n                <MenuItem value={'SNLaplacian'}>Symmetric Normalized Laplacian</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n            <FormControl>\r\n              <InputLabel htmlFor=\"matrix-format-label\">Format</InputLabel>\r\n              <Select\r\n                value={format}\r\n                onChange={e => setFormat(e.target.value)}\r\n                labelId=\"matrix-format-label\"\r\n              >\r\n                <MenuItem value={'space'}>Space separated</MenuItem>\r\n                <MenuItem value={'cBraces'}>Curly braces {'{,}'}</MenuItem>\r\n                <MenuItem value={'sBrackets'}>Square brackets {'[,]'}</MenuItem>\r\n                <MenuItem value={'matlab'}>Matlab</MenuItem>\r\n                <MenuItem value={'latex'}>LaTeX</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n            <FormControl>\r\n              <InputLabel htmlFor=\"expression-label\">Expressions</InputLabel>\r\n              <Select\r\n                value={expr}\r\n                onChange={e => setExpr(e.target.value)}\r\n                labelId=\"expression-label\"\r\n              >\r\n                <MenuItem value={'approx'}>Approximate</MenuItem>\r\n                <MenuItem value={'mathematica'}>Mathematica</MenuItem>\r\n                <MenuItem value={'matlab'}>Matlab</MenuItem>\r\n                <MenuItem value={'latex'}>LaTeX</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n            <FormControl>\r\n              <FormControlLabel\r\n                value={newLines}\r\n                control={<Checkbox checked={newLines} color=\"primary\" onChange={e => setNewLines(e.target.checked)}/>}\r\n                label=\"New lines\"\r\n                labelPlacement=\"start\"\r\n              />\r\n            </FormControl>\r\n          </Grid>\r\n            <textarea\r\n                readOnly={true}\r\n                style={{width: '100%', height: '100%', whiteSpace: 'prewrap'}}\r\n                value={matrixText}\r\n                id={'matrixTextarea'}\r\n            />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={copyText} color=\"primary\">\r\n            Copy text to clipboard\r\n          </Button>\r\n          <Button autoFocus onClick={download} color=\"primary\">\r\n            Save matrix to .txt file\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport 'katex/dist/katex.min.css';\r\nimport { InlineMath } from \"react-katex\";\r\nimport { arrayToLatexMatrix, getMatrixRepresentation } from '../matrix';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport DownloadMatrixComponent from './DownloadMatrixComponent';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        width: '100%',\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    matrixContainer: {\r\n        margin: '16px',\r\n        width: '100%',\r\n        maxHeight: '250px',\r\n        overflow: 'auto',\r\n        '&::-webkit-scrollbar': {\r\n            width: '0.4em',\r\n            height: '0.4em',\r\n        },\r\n        '&::-webkit-scrollbar-track': {\r\n            '-webkit-box-shadow': 'inset 0 0 6px rgba(0,0,0,0.00)',\r\n        },\r\n        '&::-webkit-scrollbar-thumb': {\r\n            backgroundColor: 'rgba(0,0,0,.1)',\r\n            outline: '1px solid slategrey'\r\n        },\r\n    },\r\n}))\r\n\r\nexport default function GraphRepresentation({ verticesLength, edges, representation, setRepresentation }){\r\n    const classes = useStyles();\r\n    const matrix = getMatrixRepresentation(verticesLength, edges, representation, 'latex');\r\n    return (\r\n        <div className={classes.root}>\r\n            <Grid container alignItems=\"center\" direction=\"column\">\r\n                <Grid item>\r\n                    <Grid container direction={'row'}>\r\n                        <Grid item>\r\n                            <Select\r\n                                value={representation}\r\n                                onChange={e => setRepresentation(e.target.value)}\r\n                                labelId=\"matrix-representation-label\"\r\n                            >\r\n                                <MenuItem value={'Adjacency'}>Adjacency</MenuItem>\r\n                                <MenuItem value={'Degree'}>Degree</MenuItem>\r\n                                <MenuItem value={'Laplacian'}>Laplacian</MenuItem>\r\n                                <MenuItem value={'SNLaplacian'}>Symmetric Normalized Laplacian</MenuItem>\r\n                            </Select>\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <Typography variant='h6'>matrix</Typography>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n                <Grid item className={classes.matrixContainer}>\r\n                    <InlineMath math={arrayToLatexMatrix(matrix)}/>\r\n                </Grid>\r\n                <Grid item>\r\n                    <DownloadMatrixComponent\r\n                        verticesLength={verticesLength}\r\n                        edges={edges}\r\n                        representation={representation}\r\n                        setRepresentation={setRepresentation}\r\n                    />\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport MuiDialogActions from '@material-ui/core/DialogActions';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport GetApp from '@material-ui/icons/GetApp';\r\nimport { arrayToTextMatrix, getMatrixRepresentation } from '../matrix';\r\n \r\nconst styles = theme => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n});\r\n\r\nconst DialogTitle = withStyles(styles)(props => {\r\n  const { children, classes, onClose, ...other } = props;\r\n  return (\r\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\r\n      <Typography variant=\"h6\">{children}</Typography>\r\n      {onClose ? (\r\n        <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n      ) : null}\r\n    </MuiDialogTitle>\r\n  );\r\n});\r\n\r\nconst DialogContent = withStyles(theme => ({\r\n  root: {\r\n    padding: theme.spacing(2),\r\n    overflow: 'hidden',\r\n  },\r\n}))(MuiDialogContent);\r\n\r\nconst DialogActions = withStyles(theme => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(1),\r\n  },\r\n}))(MuiDialogActions);\r\n\r\nexport default function CustomizedDialogs({verticesLength, edges, representation, platform}) {\r\n  const [open, setOpen] = React.useState(false);\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  \r\n  let scriptText, matrix, matrixText, downloadButtonText, fileName;\r\n  switch(platform){\r\n    case 'Matlab':\r\n      fileName = 'matrix.m';\r\n      downloadButtonText = 'Save script to .m file';\r\n      matrix = getMatrixRepresentation(verticesLength, edges, representation, 'matlab');\r\n      matrixText = arrayToTextMatrix(matrix,'[',']',', ','; ');\r\n      scriptText = `syms t\r\nM = sym(${matrixText});\r\nCharacteristicPolynomial = charpoly(M,t)\r\nEigenvalues = solve(CharacteristicPolynomial)`;\r\n      break;\r\n    case 'Mathematica':\r\n      fileName = 'matrix.wls';\r\n      downloadButtonText = 'Save script to .wls file';\r\n      matrix = getMatrixRepresentation(verticesLength, edges, representation, 'mathematica');\r\n      matrixText = arrayToTextMatrix(matrix,'{','}',', ','}, {');\r\n      scriptText = `m = ${matrixText};\r\ncharacteristicPolynomial = CharacteristicPolynomial[m, t]\r\neigenvalues = Solve[characteristicPolynomial==0, t]`;\r\n      break;\r\n    case 'Python':\r\n      fileName = 'matrix.py';\r\n      downloadButtonText = 'Save script to .py file';\r\n      matrix = getMatrixRepresentation(verticesLength, edges, representation, 'python');\r\n      matrixText = arrayToTextMatrix(matrix,'[[',']]',', ','], [');\r\n      scriptText = `import math\r\nfrom sympy import Matrix\r\n      \r\nM = Matrix(${matrixText})\r\nprint(\"Characteristic Polynomial:\")\r\nprint(M.charpoly().as_expr())\r\nprint(\"Eigenvalues:\")\r\nprint(M.eigenvals())`;\r\n      break;\r\n    default:\r\n      scriptText = '';\r\n  };\r\n\r\n  const copyText = () => {\r\n    // Get the textarea element\r\n    const textArea = document.getElementById('matrixTextarea');\r\n    // Select text\r\n    textArea.select();\r\n    // Copy text\r\n    document.execCommand(\"copy\");\r\n  }\r\n\r\n  const download = () => {\r\n    // Get the textarea element\r\n    const textArea = document.getElementById('matrixTextarea');\r\n    // Create the blob\r\n    var file = new Blob([textArea.value], {type: 'text/plain'});\r\n    // Create an element that contains the link to the file\r\n    const a = document.createElement('a');\r\n    const url = URL.createObjectURL(file);\r\n    a.href = url;\r\n    a.download = fileName;\r\n    document.body.appendChild(a);\r\n    // Trigger download\r\n    a.click();\r\n    // Remove the element\r\n    setTimeout(() => {\r\n      document.body.removeChild(a);\r\n      window.URL.revokeObjectURL(url);\r\n    }, 0);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        size=\"small\"\r\n        onClick={handleClickOpen}\r\n        startIcon={<GetApp />}\r\n      >\r\n        {platform}\r\n      </Button>\r\n      <Dialog fullScreen onClose={handleClose} aria-labelledby=\"customized-dialog-title\" open={open}>\r\n        <DialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\r\n  Download a {platform} script that computes the characteristic polynomial and the spectrum\r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n            <textarea\r\n                readOnly={true}\r\n                style={{width: '100%', height: '100%', whiteSpace: 'prewrap'}}\r\n                value={scriptText}\r\n                id={'matrixTextarea'}\r\n            />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={copyText} color=\"primary\">\r\n            Copy script to clipboard\r\n          </Button>\r\n          <Button autoFocus onClick={download} color=\"primary\">\r\n            {downloadButtonText}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport 'katex/dist/katex.min.css';\r\nimport { InlineMath } from \"react-katex\";\r\nimport { charAndSpecLatex, getMatrixRepresentation, arrayToTextMatrix } from '../matrix';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport DownloadScriptComponent from './DownloadScriptComponent';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        width: '100%',\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    latexContainer: {\r\n        margin: '16px',\r\n        width: '100%',\r\n        maxHeight: '250px',\r\n        overflow: 'auto',\r\n    },\r\n    mainGridContainer: {\r\n        width: '100%',\r\n    },\r\n    externalComputeContainer: {\r\n        width: '100%',\r\n    },\r\n}))\r\n\r\n\r\n\r\nexport default function CharPolAndSpectrum({ verticesLength, edges, representation }){\r\n    const classes = useStyles();\r\n    const matrix = getMatrixRepresentation(verticesLength, edges, representation, 'approx');\r\n\r\n    const wolframAlphaLink = () => {\r\n        const wolframMatrix = getMatrixRepresentation(verticesLength, edges, representation, 'mathematica');\r\n        return \"https://www.wolframalpha.com/input/?i=\" +\r\n            encodeURI(arrayToTextMatrix(wolframMatrix,'{{','}}',', ','},{'));\r\n    }\r\n    let contentElement = {};\r\n    if (edges.length<20){\r\n        const {characteristicPolynomial, spectrum} = charAndSpecLatex(matrix);\r\n        contentElement = (\r\n            <Grid container direction=\"column\" className={classes.latexContainer}>\r\n                <Grid item xs>\r\n                    <InlineMath math={characteristicPolynomial}/>\r\n                </Grid>\r\n                <Grid item xs>\r\n                    <InlineMath math={spectrum}/>\r\n                </Grid>\r\n                <Typography variant=\"body1\">\r\n                    The characteristic polynomial and the spectrum are rough approximations.\r\n                    Use one of the mathematics software systems for more precise computations.\r\n                </Typography>\r\n            </Grid>\r\n        )\r\n    } else {\r\n        contentElement = (\r\n            <Typography variant=\"body1\">\r\n                I will not try to compute the characteristic polynomial because the\r\n                computation would take too long time in your browser.\r\n            </Typography>\r\n        );\r\n    }\r\n    return (\r\n        <div className={classes.root}>\r\n            <Grid\r\n                container\r\n                alignItems=\"center\"\r\n                direction=\"column\"\r\n                className={classes.mainGridContainer}\r\n            >\r\n                <Grid item xs>\r\n                    <Typography gutterBottom variant=\"h6\">\r\n                        Characteristic polynomial and spectrum\r\n                    </Typography>\r\n                </Grid>\r\n                <Grid item xs>\r\n                    {contentElement}\r\n                </Grid>\r\n                <Grid item xs className={classes.externalComputeContainer}>\r\n                    <Typography gutterBottom variant=\"h6\">\r\n                        Compute Online:\r\n                    </Typography>\r\n                    <Button variant=\"contained\" color=\"primary\" target=\"_blank\" href={wolframAlphaLink()}>\r\n                        Wolfram Alpha\r\n                    </Button>\r\n                    <Typography gutterBottom variant=\"h6\">\r\n                        Download Scripts:\r\n                    </Typography>\r\n                    <Grid \r\n                        container\r\n                        alignItems=\"center\"\r\n                        direction=\"row\"\r\n                        justify=\"space-around\"\r\n                    >\r\n                        <Grid item>\r\n                            <DownloadScriptComponent\r\n                                verticesLength={verticesLength}\r\n                                edges={edges}\r\n                                representation={representation}\r\n                                platform={\"Mathematica\"}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <DownloadScriptComponent\r\n                                verticesLength={verticesLength}\r\n                                edges={edges}\r\n                                representation={representation}\r\n                                platform={\"Matlab\"}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <DownloadScriptComponent\r\n                                verticesLength={verticesLength}\r\n                                edges={edges}\r\n                                representation={representation}\r\n                                platform={\"Python\"}\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    );\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport GraphRepresentation from './GraphRepresentation';\r\nimport CharPolAndSpectrum from './CharPolAndSpectrum';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Typography from '@material-ui/core/Typography';\r\nclass GraphDataPanel extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            representation: 'Adjacency',\r\n        }\r\n        this.setRepresentation = this.setRepresentation.bind(this);\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState){\r\n        // The data in this component change only if a vertex or a edge is added or deleted.\r\n        return nextProps.vertices.length !== this.props.vertices.length ||\r\n            nextProps.edges.length !== this.props.edges.length ||\r\n            nextState.representation !== this.state.representation;\r\n    }\r\n\r\n    setRepresentation(r){\r\n        this.setState({representation: r});\r\n    }\r\n\r\n    render() {\r\n        const {vertices, edges} = this.props;\r\n        const {representation} = this.state;\r\n        return (\r\n            <div>\r\n                <Typography gutterBottom variant=\"h5\">\r\n                    Graph representation\r\n                </Typography>\r\n                <Divider variant=\"middle\" style={{margin: '16px'}} />\r\n                <GraphRepresentation\r\n                    verticesLength={vertices.length}\r\n                    edges={edges}\r\n                    representation={representation}\r\n                    setRepresentation={this.setRepresentation}\r\n                />\r\n                <Divider variant=\"middle\" style={{margin: '16px'}} />\r\n                <CharPolAndSpectrum\r\n                    verticesLength={vertices.length}\r\n                    edges={edges}\r\n                    representation={representation}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    ...state.graphReducer\r\n});\r\n  \r\nexport default connect(mapStateToProps, null) (GraphDataPanel);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { initializeGraph } from '../actions/graphActions';\r\nimport { Dropdown } from 'react-bootstrap';\r\n\r\nclass CreateGraphCard extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this.deleteGraph = this.deleteGraph.bind(this);\r\n        this.cycleGraph = this.cycleGraph.bind(this);\r\n        this.completeGraph = this.completeGraph.bind(this);\r\n        this.margulisExpander = this.margulisExpander.bind(this);\r\n    }\r\n\r\n    deleteGraph() {\r\n        this.props.initializeGraph([],[])\r\n    }\r\n\r\n    cycleGraph() {\r\n        const center = [window.innerWidth/4, window.innerHeight/3];\r\n        const radius = window.innerWidth/9;\r\n        let numberOfVertices = Number.parseInt(prompt(\"Please enter the number of vertices\", 5));\r\n        if (!Number.isInteger(numberOfVertices)) numberOfVertices = 5;\r\n        let vertices = [];\r\n        let edges = [];\r\n        for (let i = 0; i < numberOfVertices; i++){\r\n            vertices[i] = [\r\n                center[0]+radius*Math.cos(2*Math.PI*i/numberOfVertices),\r\n                center[1]+radius*Math.sin(2*Math.PI*i/numberOfVertices)\r\n            ];\r\n            edges[i] = [i, (i+1)%numberOfVertices];\r\n        }\r\n        this.props.initializeGraph(vertices,edges);\r\n    }\r\n\r\n    completeGraph() {\r\n        const center = [window.innerWidth/4, window.innerHeight/3];\r\n        const radius = window.innerWidth/9;\r\n        let numberOfVertices = Number.parseInt(prompt(\"Please enter the number of vertices\", 5));\r\n        if (!Number.isInteger(numberOfVertices)) return;\r\n        let vertices = [];\r\n        let edges = [];\r\n        for (let i = 0; i < numberOfVertices; i++){\r\n            vertices[i] = [\r\n                center[0]+radius*Math.cos(2*Math.PI*i/numberOfVertices),\r\n                center[1]+radius*Math.sin(2*Math.PI*i/numberOfVertices)\r\n            ];\r\n        }\r\n        // Fill edges with all possible non-oriented combinations\r\n        for (let i = 0; i < numberOfVertices; i++){\r\n            for (let j = i + 1; j < numberOfVertices; j++){\r\n                edges.push([i,j]);\r\n            }\r\n        }\r\n        this.props.initializeGraph(vertices,edges);\r\n    }\r\n\r\n    margulisExpander() {\r\n        const first = [window.innerWidth/10, window.innerHeight/10];\r\n        let m = Number.parseInt(prompt(\"Please enter a positive number m\", 3));\r\n        const space = window.innerWidth/(3.5*m);\r\n        if (!Number.isInteger(m) && m > 1) return;\r\n        let vertices = [];\r\n        let edges = [];\r\n        const toIndex = (x,y) => x*m+y;\r\n        for (let i = 0; i < m; i++) {\r\n            for (let j = 0; j < m; j++){\r\n                vertices.push([\r\n                    first[0] + space * i + ((Math.pow(j-m/2,2)+j) * 30/m),\r\n                    first[1] + space * j + ((Math.pow(i-m/2,2)+i) * 30/m)\r\n                ]);\r\n                edges.push([toIndex(i,j),toIndex(i,(j+1)%m)]);\r\n                edges.push([toIndex(i,j),toIndex((i+1)%m,j)]);\r\n                edges.push([toIndex(i,j),toIndex(i,(i+j)%m)]);\r\n                edges.push([toIndex(i,j),toIndex(m-j-1, i)]);\r\n            }\r\n        }\r\n        // Remove loops and double edges\r\n        let normalizedEdges = [];\r\n        edges.forEach((edge) => {\r\n            if (!normalizedEdges.some(e =>\r\n                (e[0] === edge[0] && e[1] === edge[1]) ||\r\n                (e[0] === edge[1] && e[1] === edge[0]) ||\r\n                (edge[0] === edge[1])\r\n            )) normalizedEdges.push(edge);\r\n        });\r\n        this.props.initializeGraph(vertices,normalizedEdges);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Dropdown>\r\n                <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\r\n                    Create\r\n                </Dropdown.Toggle>\r\n\r\n                <Dropdown.Menu>\r\n                    <Dropdown.Item onSelect={this.deleteGraph}>New</Dropdown.Item>\r\n                    <Dropdown.Item onSelect={this.cycleGraph}>Cycle Graph</Dropdown.Item>\r\n                    <Dropdown.Item onSelect={this.completeGraph}>Complete Graph</Dropdown.Item>\r\n                    <Dropdown.Item onSelect={this.margulisExpander}>Margulis expander</Dropdown.Item>\r\n                </Dropdown.Menu>\r\n            </Dropdown>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    ...state.graphReducer\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    initializeGraph: (vertices, edges) => dispatch(initializeGraph(vertices, edges))\r\n});\r\n  \r\nexport default connect(mapStateToProps, mapDispatchToProps) (CreateGraphCard);","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport ToolBar from '@material-ui/core/ToolBar';\r\n\r\nimport './App.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport GraphCanvas from './components/GraphCanvas';\r\nimport GraphDataPanel from './components/GraphDataPanel';\r\nimport OptionsContainer from './components/OptionsContainer';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    backgroundColor: '#cfe8fc',\r\n    padding: '16px',\r\n    position: 'fixed',\r\n    top: 0,\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  appBar: {\r\n    flexGrow: 1,\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  gridContainer: {\r\n    height: '100%',\r\n    paddingTop: '66px',\r\n  },\r\n  gridColumn: {\r\n    height: '100%',\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    textAlign: 'center',\r\n    color: theme.palette.text.secondary,\r\n    height: '100%',\r\n    overflow: 'auto',\r\n  },\r\n}));\r\n\r\nexport default function App() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Box className={classes.root}>\r\n      <AppBar className={classes.appBar}>\r\n        <ToolBar>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            Graph Playground\r\n          </Typography>\r\n          <OptionsContainer />\r\n        </ToolBar>\r\n      </AppBar>\r\n      <Grid container className={classes.gridContainer} spacing={3} justify=\"space-around\" alignItems=\"stretch\">\r\n        <Grid className={classes.gridColumn} item xs={7}>\r\n          <Paper className={classes.paper}>\r\n            <GraphCanvas/>\r\n          </Paper>\r\n        </Grid>\r\n        <Grid className={classes.gridColumn} item xs={5}>\r\n          <Paper className={classes.paper}>\r\n            <GraphDataPanel />\r\n          </Paper>\r\n        </Grid>\r\n      </Grid>\r\n    </Box>\r\n  );\r\n}\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport configureStore from './store';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <Provider store={configureStore()}>\n        <App />\n    </Provider>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n","import { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers/rootReducer';\r\n\r\nexport default function configureStore() {\r\n    return createStore(\r\n        rootReducer,\r\n        applyMiddleware(thunk)\r\n    );\r\n}"],"sourceRoot":""}